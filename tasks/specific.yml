- name: install specific deps
  become: true
  become_user: root
  apt:
    name: "{{ packages }}"
  vars:
    packages:
    - xbindkeys
    - xsel
    - xdotool
- name: set default target to console
  become: true
  become_user: root
  shell: "systemctl set-default multi-user.target"
- name: set grub to show boot log
  become: true
  become_user: root
  shell: "sed -i 's/GRUB_CMDLINE_LINUX_DEFAULT=.*/GRUB_CMDLINE_LINUX_DEFAULT=\\\"\\\"/g' /etc/default/grub && update-grub"
- name: set natural scrolling
  copy:
    src: "data/30-touchpad.conf"
    dest: "/etc/X11/xorg.conf.d/"
- name: set gtk darktheme
  copy: 
    src: "data/settings.ini"
    dest: "/home/{{ansible_user_id}}/.config/gtk-{{item}}/"
  with_items:
    - "3.0"
    - "4.0"
- name: set xterm to dark mode
  copy:
    src: data/.Xdefaults
    dest: /home/{{ansible_user_id}}/
- name: disable middle click paste - copy config
  copy:
    src: data/.xbindkeysrc
    dest: /home/{{ansible_user_id}}/
- name: disable middle click paste - start xbindkeyrc at i3 start
  copy:
    src: data/.xinitrc
    dest: /home/{{ansible_user_id}}/
    